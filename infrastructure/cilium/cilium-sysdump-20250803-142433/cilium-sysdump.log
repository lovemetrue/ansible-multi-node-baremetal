ğŸ” Collecting sysdump with cilium-cli version: v0.18.5, args: [sysdump]
ğŸ”® Detected Cilium installation in namespace: "kube-system"
ğŸ”® Detected Cilium operator in namespace: "kube-system"
â„¹ï¸ Using default Cilium Helm release name: "cilium"
â„¹ï¸ Using default Tetragon Helm release name: "tetragon"
â„¹ï¸ Failed to detect Cilium SPIRE installation - using Cilium namespace as Cilium SPIRE namespace: "kube-system"
ğŸ” Collecting Kubernetes nodes
ğŸ”® Detected Cilium features: map[bpf-lb-external-clusterip:Disabled cidr-match-nodes:Disabled clustermesh-enable-endpoint-sync:Disabled cni-chaining:Disabled:none enable-bgp-control-plane:Disabled enable-egress-gateway:Disabled enable-encryption-strict-mode:Disabled enable-envoy-config:Disabled enable-gateway-api:Disabled enable-ipsec:Disabled enable-local-redirect-policy:Enabled enable-policy-secrets-sync:Enabled endpoint-routes:Disabled ingress-controller:Disabled ipam:Disabled:kubernetes ipv4:Enabled ipv6:Disabled loadbalancer-l7:Disabled multicast-enabled:Disabled mutual-auth-spiffe:Disabled policy-default-local-cluster:Disabled policy-secrets-only-from-secrets-namespace:Enabled tunnel:Enabled:vxlan tunnel-port:Disabled:8472 wireguard-encapsulate:Disabled]
ğŸ” Collecting profiling data from Cilium pods
ğŸ” Collecting tracing data from Cilium pods
ğŸ” Collect Kubernetes nodes
ğŸ” Collecting Kubernetes events
ğŸ” Collecting Kubernetes pods
ğŸ” Collecting Kubernetes namespaces
ğŸ” Collecting Kubernetes services
ğŸ” Collecting Kubernetes pods summary
ğŸ” Collecting crashed test pod logs
ğŸ” Collecting Kubernetes metrics
ğŸ” Collecting Cilium cluster-wide network policies
ğŸ” Collecting Cilium network policies
ğŸ” Collecting Kubernetes endpointslices
ğŸ” Collecting Kubernetes endpoints
ğŸ” Collecting Kubernetes network policies
ğŸ” Collecting Kubernetes leases
ğŸ” Collecting Cilium CIDR Groups
ğŸ” Collecting Cilium Egress Gateway policies
ğŸ” Collecting Cilium endpoints
ğŸ” Collect Kubernetes version
ğŸ” Collecting Cilium local redirect policies
ğŸ” Collecting Cilium endpoint slices
ğŸ” Collecting Cilium identities
ğŸ” Collecting Cilium nodes
ğŸ” Collecting Cilium Node Configs
ğŸ” Collecting Ingresses
ğŸ” Collecting IngressClasses
ğŸ” Collecting Cilium Pod IP Pools
ğŸ” Checking if cilium-etcd-secrets exists in kube-system namespace
ğŸ” Collecting the Cilium configuration
ğŸ” Collecting the Cilium daemonset(s)
ğŸ” Collecting the Cilium Node Init daemonset
ğŸ” Collecting the Cilium Envoy configuration
ğŸ” Collecting the Cilium Envoy daemonset
Secret "cilium-etcd-secrets" not found in namespace "kube-system" - this is expected when using the CRD KVStore
ğŸ” Collecting the Hubble daemonset
ğŸ” Collecting the Hubble Relay configuration
ğŸ” Collecting the Hubble UI deployment
ğŸ” Collecting the Hubble cert-manager certificates
ğŸ” Collecting the Hubble generate certs cronjob
ğŸ” Collecting the Hubble Relay deployment
ğŸ” Collecting the Hubble generate certs pod logs
ğŸ” Collecting the Cilium operator deployment
âš ï¸ Daemonset "cilium-node-init" not found in namespace "kube-system" - this is expected if Node Init DaemonSet is not enabled
ğŸ” Collecting the Cilium operator metrics
ğŸ” Collecting the clustermesh debug information, metrics and gops stats
âš ï¸ cronjob "hubble-generate-certs" not found in namespace "kube-system" - this is expected if auto TLS is not enabled or if not using hubble.auto.tls.method=cronjob
ğŸ” Collecting the CNI configuration files from Cilium pods
ğŸ” Collecting the 'clustermesh-apiserver' deployment
ğŸ” Collecting the CNI configmap
ğŸ” Collecting gops stats from Cilium pods
ğŸ” Collecting gops stats from Cilium-operator pods
ğŸ” Collecting gops stats from Hubble pods
âš ï¸ Deployment "clustermesh-apiserver" not found in namespace "kube-system" - this is expected if 'clustermesh-apiserver' isn't enabled
ğŸ” Collecting gops stats from Hubble Relay pods
ğŸ” Collecting bugtool output from Cilium pods
ğŸ” Collecting profiling data from Cilium Operator pods
ğŸ” Collecting logs from Cilium pods
ğŸ” Collecting logs from crashing Cilium pods
ğŸ” Collecting logs from Cilium Envoy pods
ğŸ” Collecting logs from Cilium Node Init pods
ğŸ” Collecting logs from Cilium operator pods
ğŸ” Collecting logs from 'clustermesh-apiserver' pods
ğŸ” Collecting logs from Hubble pods
ğŸ” Collecting logs from Hubble Relay pods
ğŸ” Collecting logs from Hubble UI pods
ğŸ” Collecting platform-specific data
ğŸ” Collecting kvstore data
ğŸ” Collecting Hubble flows from Cilium pods
ğŸ” Collecting Cilium LoadBalancer IP Pools
ğŸ” Collecting logs from Tetragon pods
ğŸ” Collecting logs from Tetragon operator pods
ğŸ” Collecting bugtool output from Tetragon pods
ğŸ” Collecting Tetragon PodInfo custom resources
ğŸ” Collecting Tetragon configmap
ğŸ” Collecting Tetragon namespaced tracing policies
ğŸ” Collecting Tetragon tracing policies
ğŸ” Collecting Helm metadata from the Cilium release
ğŸ” Collecting Helm metadata from the Tetragon release
ğŸ” Collecting Helm values from the Cilium release
ğŸ” Collecting Helm values from the Tetragon release
âš ï¸ The following tasks failed, the sysdump may be incomplete:
âš ï¸ [15] Collecting Cilium Egress Gateway policies: failed to collect Cilium Egress Gateway policies: the server could not find the requested resource (get ciliumegressgatewaypolicies.cilium.io)
âš ï¸ [16] Collecting Cilium CIDR Groups: failed to write Cilium CIDR Groups to file: missing apiVersion or kind and cannot assign it; no kind is registered for the type v2alpha1.CiliumCIDRGroupList in scheme "k8s.io/client-go/kubernetes/scheme/register.go:84"
âš ï¸ [19] Collecting Cilium endpoint slices: failed to collect Cilium endpoint slices: the server could not find the requested resource (get ciliumendpointslices.cilium.io)
âš ï¸ [38] Collecting the Hubble cert-manager certificates: failed to collect certificates (v1): the server could not find the requested resource
âš ï¸ [68] Collecting Tetragon PodInfo custom resources: failed to collect podinfo (v1alpha1): the server could not find the requested resource
âš ï¸ [69] Collecting Tetragon tracing policies: failed to collect tracingpolicies (v1alpha1): the server could not find the requested resource
âš ï¸ [70] Collecting Tetragon namespaced tracing policies: failed to collect tracingpoliciesnamespaced (v1alpha1): the server could not find the requested resource
âš ï¸ [72] Collecting Helm metadata from the Tetragon release: failed to get the helm metadata from the release: unable to retrieve helm meta from release tetragon: release: not found
âš ï¸ [74] Collecting Helm values from the Tetragon release: failed to get the helm values from the release: unable to retrieve helm value from release tetragon: release: not found
âš ï¸ Please note that depending on your Cilium version and installation options, this may be expected
